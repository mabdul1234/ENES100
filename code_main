#include <Enes100.h>

unsigned long e = 10; //used for timing 

#define LED1 4;  //now LED! is 4, this sounds like the C++ stuff

//Motor A Connections:
int enA = 13;
int in1 = 12;
int in2 = 11;

//Motor B Connections:
int enB = 8;
int in3 = 10;
int in4 = 9;

//Motor C Connections:
int enC = 7;
int in5 = 6;
int in6 = 5;

//Motor D Connections:
int enD = 2;
int in7 = 4;
int in8 = 3;

void directionControl(){
 digitalWrite(enA, 255);
 digitalWrite(enB, 255);
 digitalWrite(enC, 255);
 digitalWrite(enD, 255);

 // Turn on motor A, B, C, D
 digitalWrite(in1, HIGH);
 digitalWrite(in2, HIGH);
 digitalWrite(in3, HIGH);
 digitalWrite(in4, HIGH);
 digitalWrite(in5, HIGH);
 digitalWrite(in6, HIGH);
 digitalWrite(in7, HIGH);
 digitalWrite(in8, HIGH);
 delay(2000);
}

void speedControl(){
 // Turn on motors
    digitalWrite(in1, HIGH);
    digitalWrite(in2, HIGH);
    digitalWrite(in3, HIGH);
    digitalWrite(in4, HIGH);
    digitalWrite(in5, HIGH);
    digitalWrite(in6, HIGH);
    digitalWrite(in7, HIGH);
    digitalWrite(in8, HIGH);
	
    for (int i = 0; i < 256; i++) {
      digitalWrite(enA, i);
      digitalWrite(enB, i);
      digitalWrite(enC, i);
      digitalWrite(enD, i);
      delay(20);
    }
}

void setup() {

Enes100.begin("//put team here", "crash", "//arcuo number", "//TX arduino pins", "//RX arduino pins"); //cannot use 0 and 1 for TX and RX

pinMode(enA, OUTPUT);
pinMode(enB, OUTPUT);
pinMode(enC, OUTPUT);
pinMode(enD, OUTPUT);
pinMode(in1, OUTPUT);
pinMode(in2, OUTPUT);
pinMode(in3, OUTPUT);
pinMode(in4, OUTPUT);
pinMode(in5, OUTPUT);
pinMode(in6, OUTPUT);
pinMode(in7, OUTPUT);
pinMode(in8, OUTPUT);
	
digitalWrite(in1, LOW);
digitalWrite(in2, LOW);
digitalWrite(in3, LOW);
digitalWrite(in4, LOW);
digitalWrite(in5, LOW);
digitalWrite(in6, LOW);
digitalWrite(in7, LOW);
digitalWrite(in8, LOW);

}

void loop() {

 Enes100.updateLocation(); //updates x and Y arcuo marker values

 float x = Enes100.getX();
 float y = Enes100.getY();

 float theta = Enes100.getTheta();

 bool v = Enes100.isVisible(); //is the aruco marker visible?

 Enes100.println(x); //print x coordinate to vision system
 //Enes100.println(y);

 delay(e); //use unsigned long from above 
 directionControl();
 speedControl();
 
}

